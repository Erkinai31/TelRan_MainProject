{"ast":null,"code":"import _toConsumableArray from\"/Users/azadatca/Desktop/Tel-RanProject/myapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/azadatca/Desktop/Tel-RanProject/myapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _JSON$parse;var defaultState={basket:(_JSON$parse=JSON.parse(localStorage.getItem(\"goods\")))!==null&&_JSON$parse!==void 0?_JSON$parse:[]};var ADD_ELEMS=\"ADD_ELEMS\";var ADD_COUNT=\"ADD_COUNT\";var REM_COUNT=\"REM_COUNT\";var REM_ELEM=\"REM_ELEM\";export var basketReducer=function basketReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_ELEMS:var newGood=state.basket.find(function(elem){return elem.id==action.payload.id;});if(newGood){return _objectSpread(_objectSpread({},state),{},{basket:state.basket.map(function(elem){if(elem.id==newGood.id){elem.count=elem.count+1;}return elem;})});}else{return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[_objectSpread(_objectSpread({},action.payload),{},{count:1})])});}case ADD_COUNT:return _objectSpread(_objectSpread({},state),{},{basket:state.basket.map(function(elem){if(elem.id==action.payload){elem.count=elem.count+1;}return elem;})});case REM_COUNT:var cart=state.basket.find(function(elem){return elem.id==action.payload;});if(cart.count==1){return _objectSpread(_objectSpread({},state),{},{basket:state.basket.filter(function(elem){return elem.id!=action.payload;})});}else{return _objectSpread(_objectSpread({},state),{},{basket:state.basket.map(function(elem){if(elem.id==action.payload){elem.count=elem.count-1;}return elem;})});}case REM_ELEM:return _objectSpread(_objectSpread({},state),{},{basket:state.basket.filter(function(elem){return elem.id!=action.payload;})});default:return state;}};export var addElemsAction=function addElemsAction(payload){return{type:ADD_ELEMS,payload:payload};};export var addCountAction=function addCountAction(payload){return{type:ADD_COUNT,payload:payload};};export var remCountAction=function remCountAction(payload){return{type:REM_COUNT,payload:payload};};export var remElemAction=function remElemAction(payload){return{type:REM_ELEM,payload:payload};};","map":{"version":3,"names":["defaultState","basket","JSON","parse","localStorage","getItem","ADD_ELEMS","ADD_COUNT","REM_COUNT","REM_ELEM","basketReducer","state","action","type","newGood","find","elem","id","payload","map","count","cart","filter","addElemsAction","addCountAction","remCountAction","remElemAction"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/store/basketReducer.js"],"sourcesContent":["let defaultState = {\n  basket: JSON.parse(localStorage.getItem(\"goods\")) ?? [],\n};\n\n\n\nconst ADD_ELEMS = \"ADD_ELEMS\";\nconst ADD_COUNT = \"ADD_COUNT\";\nconst REM_COUNT = \"REM_COUNT\";\nconst REM_ELEM = \"REM_ELEM\";\n\n\nexport const basketReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case ADD_ELEMS:\n      let newGood = state.basket.find((elem) => elem.id == action.payload.id);\n    if (newGood) {\n        return {\n          ...state,\n          basket: state.basket.map((elem) => {\n            if (elem.id == newGood.id) {\n              elem.count = elem.count + 1;\n            }\n            return elem;\n          }),\n        };\n      } else {\n        return {\n          ...state,\n          basket: [\n            ...state.basket,\n            {\n              ...action.payload,\n              count: 1,\n            },\n          ],\n        };\n      }\n    case ADD_COUNT:\n      return {\n        ...state,\n        basket: state.basket.map((elem) => {\n          if (elem.id == action.payload) {\n            elem.count = elem.count + 1;\n          }\n          return elem;\n        }),\n      };\n    case REM_COUNT:\n      let cart = state.basket.find((elem) => elem.id == action.payload);\n      if (cart.count == 1) {\n        return {\n          ...state,\n          basket: state.basket.filter((elem) => elem.id != action.payload),\n        };\n      } else {\n        return {\n          ...state,\n          basket: state.basket.map((elem) => {\n            if (elem.id == action.payload) {\n              elem.count = elem.count - 1;\n            }\n            return elem;\n          }),\n        };\n      }\n    case REM_ELEM:\n      return {\n        ...state,\n        basket: state.basket.filter((elem) => elem.id != action.payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const addElemsAction = (payload) => ({ type: ADD_ELEMS, payload });\nexport const addCountAction = (payload) => ({ type: ADD_COUNT, payload });\nexport const remCountAction = (payload) => ({ type: REM_COUNT, payload });\nexport const remElemAction = (payload) => ({ type: REM_ELEM, payload });\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}