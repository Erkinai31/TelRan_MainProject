{"ast":null,"code":"let defaultState = {\n  basket: []\n};\nconst ADD_PRODUCT = \"ADD_PRODUCT\";\nconst ADD_COUNT = \"ADD_COUNT\";\nexport const basketReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return {\n        ...state,\n        basket: [...state.basket, {\n          ...action.payload,\n          count: 1\n        }]\n      };\n    case ADD_COUNT:\n      return {\n        ...state,\n        goods: state.goods.map(elem => {\n          if (elem.id == action.payload) {\n            elem.count = elem.count + 1;\n          }\n          return elem;\n        })\n      };\n    case REM_COUNT:\n      let good = state.goods.find(elem => elem.id == action.payload);\n      if (good.count == 1) {\n        return {\n          ...state,\n          goods: state.goods.filter(elem => elem.id != action.payload)\n        };\n      } else {\n        return {\n          ...state,\n          goods: state.goods.map(elem => {\n            if (elem.id == action.payload) {\n              elem.count = elem.count - 1;\n            }\n            return elem;\n          })\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const addProductAction = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});","map":{"version":3,"names":["defaultState","basket","ADD_PRODUCT","ADD_COUNT","basketReducer","state","action","type","payload","count","goods","map","elem","id","REM_COUNT","good","find","filter","addProductAction"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/store/basketReducer.js"],"sourcesContent":["let defaultState = {\n  basket: [],\n};\n\nconst ADD_PRODUCT = \"ADD_PRODUCT\";\nconst ADD_COUNT = \"ADD_COUNT\"\n\nexport const basketReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return {\n        ...state,\n        basket: [...state.basket, { ...action.payload, count: 1 }],\n      };\n    case ADD_COUNT:\n      return {\n        ...state,\n        goods: state.goods.map((elem) => {\n          if (elem.id == action.payload) {\n            elem.count = elem.count + 1;\n          }\n          return elem;\n        }),\n      };\n    case REM_COUNT:\n      let good = state.goods.find((elem) => elem.id == action.payload);\n      if (good.count == 1) {\n        return {\n          ...state,\n          goods: state.goods.filter((elem) => elem.id != action.payload),\n        };\n      } else {\n        return {\n          ...state,\n          goods: state.goods.map((elem) => {\n            if (elem.id == action.payload) {\n              elem.count = elem.count - 1;\n            }\n            return elem;\n          }),\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const addProductAction = (payload) => ({ type: ADD_PRODUCT, payload });\n"],"mappings":"AAAA,IAAIA,YAAY,GAAG;EACjBC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,WAAW,GAAG,aAAa;AACjC,MAAMC,SAAS,GAAG,WAAW;AAE7B,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAK,uEAAGL,YAAY;EAAA,IAAEM,MAAM;EACxD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKL,WAAW;MACd,OAAO;QACL,GAAGG,KAAK;QACRJ,MAAM,EAAE,CAAC,GAAGI,KAAK,CAACJ,MAAM,EAAE;UAAE,GAAGK,MAAM,CAACE,OAAO;UAAEC,KAAK,EAAE;QAAE,CAAC;MAC3D,CAAC;IACH,KAAKN,SAAS;MACZ,OAAO;QACL,GAAGE,KAAK;QACRK,KAAK,EAAEL,KAAK,CAACK,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;UAC/B,IAAIA,IAAI,CAACC,EAAE,IAAIP,MAAM,CAACE,OAAO,EAAE;YAC7BI,IAAI,CAACH,KAAK,GAAGG,IAAI,CAACH,KAAK,GAAG,CAAC;UAC7B;UACA,OAAOG,IAAI;QACb,CAAC;MACH,CAAC;IACH,KAAKE,SAAS;MACZ,IAAIC,IAAI,GAAGV,KAAK,CAACK,KAAK,CAACM,IAAI,CAAEJ,IAAI,IAAKA,IAAI,CAACC,EAAE,IAAIP,MAAM,CAACE,OAAO,CAAC;MAChE,IAAIO,IAAI,CAACN,KAAK,IAAI,CAAC,EAAE;QACnB,OAAO;UACL,GAAGJ,KAAK;UACRK,KAAK,EAAEL,KAAK,CAACK,KAAK,CAACO,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACC,EAAE,IAAIP,MAAM,CAACE,OAAO;QAC/D,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGH,KAAK;UACRK,KAAK,EAAEL,KAAK,CAACK,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;YAC/B,IAAIA,IAAI,CAACC,EAAE,IAAIP,MAAM,CAACE,OAAO,EAAE;cAC7BI,IAAI,CAACH,KAAK,GAAGG,IAAI,CAACH,KAAK,GAAG,CAAC;YAC7B;YACA,OAAOG,IAAI;UACb,CAAC;QACH,CAAC;MACH;IAEF;MACE,OAAOP,KAAK;EAAC;AAEnB,CAAC;AAED,OAAO,MAAMa,gBAAgB,GAAIV,OAAO,KAAM;EAAED,IAAI,EAAEL,WAAW;EAAEM;AAAQ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}