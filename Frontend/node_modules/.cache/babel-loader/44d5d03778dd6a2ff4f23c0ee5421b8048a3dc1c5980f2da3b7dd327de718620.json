{"ast":null,"code":"let defaultState = {\n  basket: []\n};\nconst ADD_PRODUCT = 'ADD_PRODUCT';\nexport const basketReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return {\n        ...state,\n        basket: [...state.basket, {\n          ...action.payload,\n          count: 1\n        }]\n      };\n    case ADD_COUNT:\n      return {\n        ...state,\n        goods: state.goods.map(elem => {\n          if (elem.id == action.payload) {\n            elem.count = elem.count + 1;\n          }\n          return elem;\n        })\n      };\n    // Доработали кейс. По условному оператору будет решаться, какиз из return необходимо будет выполнить\n    case REM_COUNT:\n      let good = state.goods.find(elem => elem.id == action.payload);\n      if (good.count == 1) {\n        return {\n          ...state,\n          goods: state.goods.filter(elem => elem.id != action.payload)\n        };\n      } else {\n        return {\n          ...state,\n          goods: state.goods.map(elem => {\n            if (elem.id == action.payload) {\n              elem.count = elem.count - 1;\n            }\n            return elem;\n          })\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const addProductAction = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});","map":{"version":3,"names":["defaultState","basket","ADD_PRODUCT","basketReducer","state","action","type","payload","count","ADD_COUNT","goods","map","elem","id","REM_COUNT","good","find","filter","addProductAction"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/store/basketReducer.js"],"sourcesContent":["let defaultState = {\n    basket: []\n}\n\nconst ADD_PRODUCT = 'ADD_PRODUCT'\n\n\n\nexport const basketReducer = (state = defaultState, action) => {\n    switch (action.type){\n        case ADD_PRODUCT:\n            return {...state, basket:[...state.basket,{...action.payload,count:1}]}\n            case ADD_COUNT:\n                return {...state, goods: state.goods.map(elem => {\n                    if (elem.id == action.payload){\n                        elem.count = elem.count + 1\n                    }\n                    return elem\n                })}\n            // Доработали кейс. По условному оператору будет решаться, какиз из return необходимо будет выполнить\n            case REM_COUNT:\n                let good = state.goods.find(elem => elem.id == action.payload)\n                if (good.count == 1){\n                    return {...state, goods: state.goods.filter(elem => elem.id != action.payload)}\n                } else {\n                    return {...state, goods: state.goods.map(elem => {\n                        if (elem.id == action.payload){\n                            elem.count = elem.count - 1\n                        }\n                        return elem\n                    })}\n                }\n    \n       \n        default: \n            return state\n    }\n}\n\n\nexport const addProductAction = (payload) => ({type: ADD_PRODUCT, payload}) \n"],"mappings":"AAAA,IAAIA,YAAY,GAAG;EACfC,MAAM,EAAE;AACZ,CAAC;AAED,MAAMC,WAAW,GAAG,aAAa;AAIjC,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAK,uEAAGJ,YAAY;EAAA,IAAEK,MAAM;EACtD,QAAQA,MAAM,CAACC,IAAI;IACf,KAAKJ,WAAW;MACZ,OAAO;QAAC,GAAGE,KAAK;QAAEH,MAAM,EAAC,CAAC,GAAGG,KAAK,CAACH,MAAM,EAAC;UAAC,GAAGI,MAAM,CAACE,OAAO;UAACC,KAAK,EAAC;QAAC,CAAC;MAAC,CAAC;IACvE,KAAKC,SAAS;MACV,OAAO;QAAC,GAAGL,KAAK;QAAEM,KAAK,EAAEN,KAAK,CAACM,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;UAC7C,IAAIA,IAAI,CAACC,EAAE,IAAIR,MAAM,CAACE,OAAO,EAAC;YAC1BK,IAAI,CAACJ,KAAK,GAAGI,IAAI,CAACJ,KAAK,GAAG,CAAC;UAC/B;UACA,OAAOI,IAAI;QACf,CAAC;MAAC,CAAC;IACP;IACA,KAAKE,SAAS;MACV,IAAIC,IAAI,GAAGX,KAAK,CAACM,KAAK,CAACM,IAAI,CAACJ,IAAI,IAAIA,IAAI,CAACC,EAAE,IAAIR,MAAM,CAACE,OAAO,CAAC;MAC9D,IAAIQ,IAAI,CAACP,KAAK,IAAI,CAAC,EAAC;QAChB,OAAO;UAAC,GAAGJ,KAAK;UAAEM,KAAK,EAAEN,KAAK,CAACM,KAAK,CAACO,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACC,EAAE,IAAIR,MAAM,CAACE,OAAO;QAAC,CAAC;MACnF,CAAC,MAAM;QACH,OAAO;UAAC,GAAGH,KAAK;UAAEM,KAAK,EAAEN,KAAK,CAACM,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;YAC7C,IAAIA,IAAI,CAACC,EAAE,IAAIR,MAAM,CAACE,OAAO,EAAC;cAC1BK,IAAI,CAACJ,KAAK,GAAGI,IAAI,CAACJ,KAAK,GAAG,CAAC;YAC/B;YACA,OAAOI,IAAI;UACf,CAAC;QAAC,CAAC;MACP;IAGR;MACI,OAAOR,KAAK;EAAA;AAExB,CAAC;AAGD,OAAO,MAAMc,gBAAgB,GAAIX,OAAO,KAAM;EAACD,IAAI,EAAEJ,WAAW;EAAEK;AAAO,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}