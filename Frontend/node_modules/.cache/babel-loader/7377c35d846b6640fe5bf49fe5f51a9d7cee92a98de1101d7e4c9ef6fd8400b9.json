{"ast":null,"code":"/* eslint-disable jsx-a11y/img-redundant-alt */import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useParams}from\"react-router-dom\";import{baseUrl}from\"../..\";import{fetchCategories}from\"../../asyncAction/categories\";import{fetchAllProductsList,fetchAllSalesProductsList,fetchCategory}from\"../../asyncAction/category\";import{addElemsAction}from\"../../store/basketReducer\";import Filtration from\"../Filtration/Filtration\";import Footer from\"../Footer/Footer\";import Header from\"../Header/Header\";import\"./CategoryTypes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CategoryTypes(){var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var productsList=useSelector(function(store){return store.productsList.productsList;}).filter(function(elem){return elem.show&&elem.show2;});var categories=useSelector(function(store){return store.categoriesList.categoriesList;}).find(function(elem){return elem.id==id;});useEffect(function(){if(id=='all'){dispatch(fetchAllProductsList());}else if(id=='sales'){dispatch(fetchAllSalesProductsList());}else if(!isNaN(+id)){dispatch(fetchCategory(id));}dispatch(fetchCategories());},[id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"category_part\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category_part_wrapper\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"all_categories\",children:[/*#__PURE__*/_jsx(Filtration,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:id!=\"all\"?categories===null||categories===void 0?void 0:categories.title:\"All products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category_types\",children:productsList.map(function(elem){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img_cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:baseUrl+elem.image,alt:\"photo\",width:\"318\",height:\"330\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(addElemsAction(elem));},className:\"btn btn_cart\",children:\"Add to cart\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(elem.id),className:\"category_text\",children:elem.title}),/*#__PURE__*/_jsx(\"div\",{children:elem.price-elem.discont_price!=0?/*#__PURE__*/_jsxs(\"div\",{className:\"product_price\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"discont_price\",children:[elem.discont_price,\"$\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"price\",children:elem.price}),/*#__PURE__*/_jsxs(\"p\",{className:\"percent\",children:[\"-\",Math.round(100-elem.discont_price*100/elem.price),\"%\"]})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"discont_price\",children:[elem.price,\"$\"]})})]},elem.id);})})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","useParams","baseUrl","fetchCategories","fetchAllProductsList","fetchAllSalesProductsList","fetchCategory","addElemsAction","Filtration","Footer","Header","CategoryTypes","dispatch","id","productsList","store","filter","elem","show","show2","categories","categoriesList","find","isNaN","title","map","image","price","discont_price","Math","round"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/components/categoryTypes/CategoryTypes.js"],"sourcesContent":["/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link,  useParams } from \"react-router-dom\";\nimport { baseUrl } from \"../..\";\nimport { fetchCategories } from \"../../asyncAction/categories\";\nimport { fetchAllProductsList, fetchAllSalesProductsList, fetchCategory } from \"../../asyncAction/category\";\nimport { addElemsAction } from \"../../store/basketReducer\";\nimport Filtration from \"../Filtration/Filtration\";\nimport Footer from \"../Footer/Footer\";\nimport Header from \"../Header/Header\";\nimport \"./CategoryTypes.css\";\n\nexport default function CategoryTypes() {\n  let dispatch = useDispatch();\n  let { id } = useParams();\n  let productsList = useSelector(\n    (store) => store.productsList.productsList\n  ).filter((elem) => elem.show && elem.show2);\n  const categories = useSelector(\n    (store) => store.categoriesList.categoriesList\n  ).find((elem) => elem.id == id);\n  \n\n  useEffect(() => {\n    if(id == 'all'){\n      dispatch(fetchAllProductsList())\n    }else if(id == 'sales'){\n      dispatch(fetchAllSalesProductsList())\n    }else if (!isNaN(+id)) {\n      dispatch(fetchCategory(id))\n  }\n    dispatch(fetchCategories());  \n  }, [id]);\n\n  return (\n    <div className=\"category_part\">\n      <div className=\"category_part_wrapper\">\n        <Header />\n        \n        <div className=\"all_categories\">\n        <Filtration/>\n          <div>\n            <h3>{id != \"all\" ? categories?.title : \"All products\"}</h3>\n            <div className=\"category_types\">\n              {productsList.map((elem) => (\n                <div key={elem.id}>\n                  <div className=\"img_cart\">\n                    <img\n                    src={baseUrl + elem.image}\n                    alt=\"photo\"\n                    width=\"318\"\n                    height=\"330\"\n                    \n                  />\n                  <button onClick={()=> dispatch(addElemsAction(elem))} className=\"btn btn_cart\">Add to cart</button>\n                 \n                  </div>\n                   <Link to={`/products/${elem.id}`} className=\"category_text\">\n                    {elem.title}\n                  </Link>\n                  <div>\n                    {(elem.price - elem.discont_price != 0) ?\n                    <div className=\"product_price\">\n                    <p className=\"discont_price\">{elem.discont_price}$</p>\n                    <p className=\"price\">{elem.price}</p>\n                    <p className=\"percent\">\n                    -\n                    {Math.round(\n                      100 - (elem.discont_price * 100) / elem.price\n                    )}\n                    %\n                  </p>\n                      </div>:<p className=\"discont_price\">{elem.price}$</p>}\n                   \n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}