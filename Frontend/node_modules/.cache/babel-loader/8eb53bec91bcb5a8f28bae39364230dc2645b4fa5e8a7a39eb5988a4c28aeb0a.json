{"ast":null,"code":"import { AddProductAction } from \"../store/productsReducer\";\nexport const fetchProducts = () => {\n  return function (dispatch) {\n    let url = \"http://localhost:3333/products/all\";\n    fetch(url).then(res => res.json()).then(data => {\n      data = data.map(elem => ({\n        ...elem,\n        nprice: Math.round(100 - elem.discont_price * 100 / elem.price)\n      }));\n      dispatch(AddProductAction(data));\n    });\n  };\n};\nexport const fetchProducts2 = id => {\n  return function (dispatch) {\n    let url = `http://localhost:3333/categories/${id}`;\n    fetch(url).then(res => res.json()).then(data => {\n      dispatch(AddCategoryAction(data));\n    });\n  };\n};","map":{"version":3,"names":["AddProductAction","fetchProducts","dispatch","url","fetch","then","res","json","data","map","elem","nprice","Math","round","discont_price","price","fetchProducts2","id","AddCategoryAction"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/asyncAction/products.js"],"sourcesContent":["import { AddProductAction } from \"../store/productsReducer\";\n\nexport const fetchProducts = () => {\n  return function (dispatch) {\n    let url = \"http://localhost:3333/products/all\";\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) =>{\n        data=data.map(elem=>({...elem,nprice:(Math.round(100-(elem.discont_price*100)/elem.price))}))\n      dispatch(AddProductAction(data))\n      })\n}\n}\n\nexport const fetchProducts2 = (id) => {\n  return function (dispatch) {\n    let url = `http://localhost:3333/categories/${id}`;\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n      dispatch(AddCategoryAction(data));\n  });\n}\n}\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,0BAA0B;AAE3D,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,OAAO,UAAUC,QAAQ,EAAE;IACzB,IAAIC,GAAG,GAAG,oCAAoC;IAC9CC,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAI;MACbA,IAAI,GAACA,IAAI,CAACC,GAAG,CAACC,IAAI,KAAG;QAAC,GAAGA,IAAI;QAACC,MAAM,EAAEC,IAAI,CAACC,KAAK,CAAC,GAAG,GAAEH,IAAI,CAACI,aAAa,GAAC,GAAG,GAAEJ,IAAI,CAACK,KAAK;MAAE,CAAC,CAAC,CAAC;MAC/Fb,QAAQ,CAACF,gBAAgB,CAACQ,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC;EACR,CAAC;AACD,CAAC;AAED,OAAO,MAAMQ,cAAc,GAAIC,EAAE,IAAK;EACpC,OAAO,UAAUf,QAAQ,EAAE;IACzB,IAAIC,GAAG,GAAI,oCAAmCc,EAAG,EAAC;IAClDb,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MAChBN,QAAQ,CAACgB,iBAAiB,CAACV,IAAI,CAAC,CAAC;IACrC,CAAC,CAAC;EACJ,CAAC;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}