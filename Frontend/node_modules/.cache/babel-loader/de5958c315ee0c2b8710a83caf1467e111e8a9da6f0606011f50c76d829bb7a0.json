{"ast":null,"code":"import React,{forwardRef,useEffect}from\"react\";import Header from\"../Header/Header\";import{useSelector,useDispatch}from\"react-redux\";import\"./Main.css\";import{fetchCategories}from\"../../asyncAction/categories\";import Footer from\"../Footer/Footer\";import{Link}from\"react-router-dom\";import{baseUrl}from\"../..\";import NewYearSale from\"./newYearSale/NewYearSale\";import Discount from\"./Discount/Discount\";import{fetchAllProductsList}from\"../../asyncAction/category\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/forwardRef(function(props,ref){var categories=useSelector(function(store){return store.categoriesList.categoriesList;});var products=useSelector(function(store){return store.productsList.productsList;});var dispatch=useDispatch();var newCategory=categories.slice(0,4);var newProduct=products.filter(function(elem){return elem.price-elem.discont_price!==0;});var newProducts=newProduct.slice(0,3);useEffect(function(){dispatch(fetchCategories());},[]);useEffect(function(){dispatch(fetchAllProductsList());},[]);var handleClick=function handleClick(){ref.current.scrollIntoView({behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{handleClick:handleClick}),/*#__PURE__*/_jsx(NewYearSale,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"section_two\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section_two_wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Categories\"}),/*#__PURE__*/_jsxs(Link,{to:\"/categories/all\",className:\"btn_category\",children:[\" \",\"All categories\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category_types\",children:newCategory.map(function(elem){return/*#__PURE__*/_jsx(Link,{to:\"/categories/\".concat(elem.id),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:baseUrl+elem.image,alt:\"photo\",width:\"310\",height:\"280\"}),/*#__PURE__*/_jsx(\"p\",{className:\"category_text\",children:elem.title})]})},elem.id);})})]}),/*#__PURE__*/_jsx(Discount,{ref:ref}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products_section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:newProducts.map(function(elem){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(elem.id),className:\"product_title\",children:[/*#__PURE__*/_jsx(\"img\",{src:baseUrl+elem.image,alt:\"photo\",width:\"310\",height:\"295\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_price\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"discont_price\",children:[elem.discont_price,\"$\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[elem.price,\"$\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"percent\",children:[\"-\",Math.round(100-elem.discont_price*100/elem.price),\"%\"]})]}),elem.title]},elem.id)});})})]}),/*#__PURE__*/_jsx(Footer,{ref:ref})]})]});});export default Main;","map":{"version":3,"names":["React","forwardRef","useEffect","Header","useSelector","useDispatch","fetchCategories","Footer","Link","baseUrl","NewYearSale","Discount","fetchAllProductsList","Main","props","ref","categories","store","categoriesList","products","productsList","dispatch","newCategory","slice","newProduct","filter","elem","price","discont_price","newProducts","handleClick","current","scrollIntoView","behavior","map","id","image","title","Math","round"],"sources":["/Users/azadatca/Desktop/Tel-RanProject/myapp/src/components/Main/Main.js"],"sourcesContent":["import React, { forwardRef, useEffect } from \"react\";\nimport Header from \"../Header/Header\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./Main.css\";\nimport { fetchCategories} from \"../../asyncAction/categories\";\nimport Footer from \"../Footer/Footer\";\nimport { Link } from \"react-router-dom\";\nimport { baseUrl } from \"../..\";\nimport NewYearSale from \"./newYearSale/NewYearSale\";\nimport Discount from \"./Discount/Discount\";\nimport { fetchAllProductsList } from \"../../asyncAction/category\";\n\n\nconst Main=forwardRef((props,ref) => {\n  let categories = useSelector((store) => store.categoriesList.categoriesList);\n  let products = useSelector((store) => store.productsList.productsList);\n  let dispatch = useDispatch();\n  let newCategory = categories.slice(0, 4);\n  let newProduct = products.filter(elem=>elem.price-elem.discont_price!==0);\n  let newProducts = newProduct.slice(0,3);\n\n  useEffect(() => {\n    dispatch(fetchCategories());\n  }, []);\n\n  useEffect(()=>{\n    dispatch(fetchAllProductsList())\n  },[])\n\n  const handleClick = () => {\n    ref.current.scrollIntoView({\n      behavior: \"smooth\",\n    });\n  };\n\n\n  return (\n    <div>\n      <Header handleClick={handleClick} />\n      <NewYearSale/>\n      <div className=\"section_two\">\n        <div className=\"section_two_wrapper\">\n          <h3>Categories</h3>\n          <Link to=\"/categories/all\" className=\"btn_category\">\n            {\" \"}\n            All categories\n          </Link>\n        </div>\n        <div className=\"category_types\">\n          {newCategory.map((elem) => (\n             <Link key={elem.id} to={`/categories/${elem.id}`}>\n            <div>\n              <img\n                src={baseUrl + elem.image}\n                alt=\"photo\"\n                width=\"310\"\n                height=\"280\"\n              />\n              <p className=\"category_text\">{elem.title}</p>\n            </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n     <Discount ref={ref}/>\n      <div>\n        <div className=\"products_section\">\n          <h3>Stock</h3>\n          <div className=\"products\">\n            {newProducts.map((elem) => (\n              <div>\n                <Link\n                  key={elem.id}\n                  to={`/products/${elem.id}`}\n                  className=\"product_title\"\n                >\n                <img\n                  src={baseUrl + elem.image}\n                  alt=\"photo\"\n                  width=\"310\"\n                  height=\"295\"\n                />\n                <div className=\"product_price\">\n                  <p className=\"discont_price\">{elem.discont_price}$</p>\n                  <p className=\"price\">{elem.price}$</p>\n                  <p className=\"percent\">\n                    -{Math.round(100 - (elem.discont_price * 100) / elem.price)}\n                    %\n                  </p>\n                </div>\n                \n                  {elem.title}\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div>\n        <Footer ref={ref}/>\n      </div>\n    </div>\n  );\n})\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}